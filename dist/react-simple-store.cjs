var t=require("react");function r(){return r=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},r.apply(this,arguments)}var e=function(e,n,u){void 0===n&&(n={}),void 0===u&&(u={});var o=!1,i=r({},n),c=new Set,a=u.allowNested,f=void 0===a||a,s=function(t,e){if(!f&&o)throw new Error("Nested state mutation disabled");try{o=!0;var n="function"==typeof t?t(i):t;if(!Object.is(n,i)){var u=i;i=(null!=e?e:"object"!=typeof n)?n:r({},i,n),c.forEach(function(t){return t(i,u)})}}finally{o=!1}},d=function(){return i},v=function(t){return c.add(t),function(){c.delete(t)}},l=function(t,r,e){var n=t(i);return v(function(){var u=t(i);Object.is(n,u)||e&&e(n,u)||r(u,n=u)})},b=function(t,r,e){return r?l(t,r,e):v(t)};return r({},e(s,d,{subscribe:b}),{useStore:function(r,e){var n=t.useState(r(i)),u=n[0],o=n[1];return t.useEffect(function(){return l(r,o,e)},[]),u},getState:d,setState:s,destroy:function(){return c.clear()},subscribe:b})};exports.createStore=e,exports.createStoreRedux=function(t,r){return e(function(r,e){return{dispatch:function(n){return r(t(e(),n)),n}}},r)};
